<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="114"
    height="114"
    viewBox="0 0 114 114"
    fill="none"
    ref="thisSvg"
    @mousemove="atMouseMove"
    @mouseleave="atMouseLeave"
  >
    <circle
      cx="57"
      cy="57.0001"
      r="56.5"
      fill="black"
      stroke="url(#paint0_linear_64_3885)"
    />
    <path
      d="M57.5 39.0001C69.2618 39.0001 79.5557 45.8486 84.7642 56.0084C84.9192 56.3158 85 56.6553 85 56.9996C85 57.3439 84.9193 57.6834 84.7643 57.9908C79.5587 68.1467 69.2617 75.0001 57.5 75.0001C45.7381 75.0001 35.4441 68.1515 30.2356 57.9915C30.0807 57.6842 30 57.3448 30 57.0006C30 56.6564 30.0807 56.317 30.2357 56.0096C35.4412 45.8536 45.7382 39.0001 57.5 39.0001ZM49.0275 69.68C51.5353 71.3556 54.4835 72.25 57.4995 72.2501L72.75 56.9996C72.7499 53.9836 71.8555 51.0354 70.1799 48.5277C68.5042 46.0198 66.1225 44.0652 63.3359 42.911C60.5494 41.7567 57.4831 41.4547 54.5249 42.0431C51.5667 42.6316 48.8494 44.084 46.7166 46.2167C44.5838 48.3495 43.1314 51.0668 42.543 54.025C41.9546 56.9832 42.2566 60.0495 43.4108 62.836C44.5651 65.6226 46.5197 68.0043 49.0275 69.68ZM57.5 72.2501C59.5028 72.251 61.4862 71.8572 63.3368 71.0912C65.1875 70.3252 66.8691 69.2019 68.2854 67.7855C69.7018 66.3692 70.8251 64.6876 71.5911 62.8369C72.3571 60.9863 72.7509 59.003 72.75 57.0001L57.5 72.2501ZM49.0978 56.0249C49.8921 56.3346 50.7515 56.4657 51.6141 56.4004C52.9818 56.297 54.267 55.7068 55.2369 54.737C56.2067 53.7672 56.7969 52.4819 56.9003 51.1143C56.9662 50.2427 56.8318 49.3745 56.5151 48.5735C56.8441 48.5295 57.1757 48.505 57.5082 48.5001C59.2797 48.4972 61.0076 49.0492 62.4493 50.0787C63.8926 51.1093 64.9763 52.5666 65.548 54.2454C66.1197 55.9243 66.1505 57.7401 65.6361 59.4374C65.1217 61.1346 64.088 62.6278 62.6805 63.7069C61.2731 64.7859 59.5626 65.3963 57.79 65.4523C56.0174 65.5083 54.2718 65.007 52.7991 64.019C51.3263 63.031 50.2004 61.606 49.5799 59.9446C49.1108 58.6885 48.9484 57.3452 49.0978 56.0249Z"
      stroke="url(#paint1_linear_64_3885)"
      stroke-width="2"
    />
    <defs>
      <linearGradient
        ref="circle_grad"
        id="paint0_linear_64_3885"
        x1="27.013"
        y1="7.68273"
        x2="99.3783"
        y2="106.318"
        gradientUnits="userSpaceOnUse"
      >
        <stop ref="circle_grad_stop1" stop-color="#99FF99" offset="0" />
        <stop offset="0.802083" />
      </linearGradient>
      <linearGradient
        ref="path_grad"
        id="paint1_linear_64_3885"
        x1="41.5"
        y1="42"
        x2="62.5"
        y2="76"
        gradientUnits="userSpaceOnUse"
      >
        <stop ref="path_grad_stop1" stop-color="#99FF99" />
        <stop offset="1" />
      </linearGradient>
    </defs>
  </svg>
</template>
<script setup>

import { ref } from 'vue'

const thisSvg = ref(null);
const circle_grad = ref(null);
const circle_grad_stop1 = ref(null);

const path_grad = ref(null);
const path_grad_stop1 = ref(null);


function atMouseMove(e) {
  const { clientWidth: w, clientHeight: h } = thisSvg.value;
  const posX1 = (e.offsetX / w)  * 100;
  const posY1 = (e.offsetY / h) * 100;

  const posX2 = 100 - posX1;
  const posY2 = 100 - posY1;

  attr(circle_grad, 'x1', `${posX1}%`);
  attr(circle_grad, 'y1', `${posY1}%`);
  attr(circle_grad, 'x2', `${posX2}%`);
  attr(circle_grad, 'y2', `${posY2}%`);
  attr(circle_grad_stop1, 'stop-color', '#CCFF00');

  attr(path_grad, 'x1', `${posX1}%`);
  attr(path_grad, 'y1', `${posY1}%`);
  attr(path_grad, 'x2', `${posX2}%`);
  attr(path_grad, 'y2', `${posY2}%`);
  attr(path_grad_stop1, 'stop-color', '#CCFF00');
}

function atMouseLeave() {
  attr(circle_grad, 'x1', '27.013');
  attr(circle_grad, 'y1', '7.68273');
  attr(circle_grad, 'x2', '99.3783');
  attr(circle_grad, 'y2', '106.318');
  attr(circle_grad_stop1, 'stop-color', '#99FF99');

  attr(path_grad, 'x1', '27.013');
  attr(path_grad, 'y1', '7.68273');
  attr(path_grad, 'x2', '99.3783');
  attr(path_grad, 'y2', '106.318');
  attr(path_grad_stop1, 'stop-color', '#99FF99');
}

function attr(target, attribute, value) {
  target.value.setAttribute(attribute, value);
}

</script>
